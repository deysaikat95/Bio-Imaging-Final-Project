if (self.CavalryLogger) { CavalryLogger.start_js(["CHKNP"]); }

__d("MercuryAttachmentConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({SIDE_LENGTH:9});e.exports=a}),null);
__d("MessengerForwardChatFlowSharedAttachmentsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerForwardChatFlowSharedAttachmentsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerForwardChatFlowSharedAttachmentsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerForwardChatFlowSharedAttachmentsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAttachmentID=function(a){this.$1.attachment_id=a;return this};c.setAttachmentType=function(a){this.$1.attachment_type=a;return this};c.setIsFromViewer=function(a){this.$1.is_from_viewer=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={attachment_id:!0,attachment_type:!0,is_from_viewer:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ChatImageArrowDirection",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({BOTH:null,LEFT:null,RIGHT:null});e.exports=a}),null);
__d("ChatImageWithArrow.react",["cx","ChatImageArrowDirection","CssBackgroundImage.react","Link.react","MercuryAttachmentConstants","React","XUISpinner.react","cssURL","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=30,i=15;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){return Math.max(d.props.width,i)},d.$6=function(){return Math.max(d.props.height,h)},d.$7=function(a,c,d,e){if(c===b("ChatImageArrowDirection").LEFT)return"translate("+d+"px, "+e+"px)rotate(45deg)";else return"translate("+(a-d)+"px, "+e+"px)rotate(45deg)"},d.$8=function(a,c,e,f){if(c===b("ChatImageArrowDirection").LEFT)return"rotate(-45deg)translate(-"+(d.$1+e)+"px,-"+f+"px)";else return"rotate(-45deg)translate(-"+(a-e)+"px, -"+f+"px)"},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){this.$1=Math.floor(this.props.sideLength/Math.sqrt(2));this.$2=Math.ceil(this.$3()+this.$1);if(this.props.isLoading)return this.$4();var a=b("joinClasses")("_4yp6"+(this.props.round?" _3lk2":""),this.props.rootClassName);return this.$5(b("React").jsx("div",{className:a,children:b("React").jsx("div",{className:"_52kr"+(this.props.round?" _3_om":""),style:{width:this.$3(),height:this.$6()},children:b("React").jsx(b("CssBackgroundImage.react"),{className:"_4yp9"+(this.props.isSpherical?" _3603":""),imageURI:this.props.source,backgroundPosition:"center",style:{width:this.$3(),height:this.$6(),borderRadius:"inherit"},children:this.props.isSpherical?b("React").jsx("div",{className:"_64ks"}):null})})}))};d.$5=function(a){return this.props.onClick?b("React").jsx(b("Link.react"),{className:"_6jtk",onClick:this.props.onClick,children:a}):a};d.$4=function(){var a={width:this.props.sideLength,height:this.props.sideLength};this.props.source&&(a.backgroundImage=b("cssURL")(this.props.source));a={width:this.props.sideLength,height:this.props.sideLength};this.props.source&&(a.opacity=0);a={width:this.$3(),height:this.$6()};this.props.source&&(a.backgroundImage=b("cssURL")(this.props.source),a.backgroundSize="cover");return b("React").jsx("div",{className:"_4yp6",children:b("React").jsx("div",{className:"_4ypb _3_om",style:a,children:b("React").jsx(b("XUISpinner.react"),{size:"small"})})})};return c}(b("React").Component);c.propTypes={arrowDirection:a.oneOf(Object.keys(b("ChatImageArrowDirection"))),onClick:a.func,height:a.number.isRequired,isLoading:a.bool,isSpherical:a.bool,round:a.bool,rootClassName:a.string,sideLength:a.number,source:a.string,width:a.number.isRequired};c.defaultProps={sideLength:b("MercuryAttachmentConstants").SIDE_LENGTH,isLoading:!1,isSpherical:!1,round:!1};e.exports=c}),null);
__d("ChatPhotoForwardButton.react",["cx","fbt","Link.react","MessagingForwardAttachmentDialog.react","MessengerForwardChatFlowSharedAttachmentsTypedLogger","MessengerPhotoForwardConfig","React","TooltipData"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={dialogShown:!1},d.$2=function(){d.props.attachmentIDs[0]&&d.props.attachmentTypes[0]&&new(b("MessengerForwardChatFlowSharedAttachmentsTypedLogger"))().setAttachmentID(d.props.attachmentIDs[0]).setIsFromViewer(d.props.isFromViewer).setAttachmentType(d.props.attachmentTypes[0]).log(),d.setState({dialogShown:!0})},d.$3=function(){d.setState({dialogShown:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=h._("Forward"),c=this.props.isFromViewer?"left":"right";c=Object.assign({"data-tooltip-alignh":c},b("TooltipData").propsFor(a,c));var d=b("MessengerPhotoForwardConfig").showArrowIcon?"_3xqa":"_2t5t";return b("React").jsxs("div",{children:[this.$1(),b("React").jsx(b("Link.react"),babelHelpers["extends"]({},this.props,c,{"aria-label":a,onClick:this.$2,ref:"forwardButton",role:"button",className:"_2t5q"+(this.props.isFromViewer?"":" _1_47")+(this.props.isFromViewer?" _1_48":""),children:b("React").jsx("div",{className:d})}))]})};d.$1=function(){if(!this.state.dialogShown)return null;var a=h._("Forward in separate messages");return b("React").jsx(b("MessagingForwardAttachmentDialog.react"),{attachmentID:this.props.attachmentIDs[0],onClose:this.$3,shown:this.state.dialogShown,title:a})};return c}(b("React").PureComponent);c.propTypes={attachmentIDs:a.arrayOf(a.string).isRequired,isFromViewer:a.bool.isRequired};e.exports=c}),null);
__d("SaveMessageUtils",["MessengerDotComSaveModule","QE2Logger","immutable"],(function(a,b,c,d,e,f){__p&&__p();var g=b("immutable").Set.of("fallback","share","event","attached_story","music_aggregation","avatar"),h=b("immutable").Set.of("group_sell_product_item");a={isSavableMessageAttachment:function(a){__p&&__p();var c=!0;for(var d=0;d<a.length;d++){if(a[d]=="group_sell_product_item")if(b("MessengerDotComSaveModule").can_save_for_sale_item_attachment!=null){b("QE2Logger").logExposureForUser("marketplace_www_messenger_save");return b("MessengerDotComSaveModule").can_save_for_sale_item_attachment}else return!1;if(h.has(a[d]))return!0;g.has(a[d])||(c=!1)}return c}};e.exports=a}),null);
__d("MessengerMessageActionItemList",["requireCond","MessengerDeepLinkActionItem.react","MessengerDeleteMessageActionItem.react","MessengerEnvironment","MessengerReactionActionItem.react","MessengerReplyActionItem.react","MessengerSaveToFacebookActionItem.react","MessengerSetAsDescriptionActionItem.react","MessengerViewSourceActionItem.react","React","cr:1015277","cr:945177"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerDeepLinkActionItem.react").actionItem,h=b("MessengerDeepLinkActionItem.react").shouldRender,i=b("MessengerDeleteMessageActionItem.react").actionItem,j=b("MessengerDeleteMessageActionItem.react").shouldRender,k=b("MessengerReactionActionItem.react").actionItem,l=b("MessengerReactionActionItem.react").shouldRender,m=b("MessengerReplyActionItem.react").actionItem,n=b("MessengerReplyActionItem.react").shouldRender,o=b("MessengerSaveToFacebookActionItem.react").actionItem,p=b("MessengerSaveToFacebookActionItem.react").shouldRender,q=b("MessengerSetAsDescriptionActionItem.react").actionItem,r=b("MessengerSetAsDescriptionActionItem.react").shouldRender,s=b("MessengerViewSourceActionItem.react").actionItem,t=b("MessengerViewSourceActionItem.react").shouldRender;function a(a){return b("React").jsx(b("React").Fragment,{children:[p(a.message)&&b("React").jsx(o,{onClick:a.closeActionList,message:a.message},"SaveToFacebookActionItem"),b("cr:945177")!==null&&b("cr:945177").shouldRender()&&b("React").jsx(b("cr:945177").actionItem,{onClick:a.closeActionList,message:a.message},"SetReminderActionItem"),j()&&b("React").jsx(i,{isFromViewer:!!a.isFromViewer,onClick:a.closeActionList,message:a.message},"DeleteMessageActionItem"),b("cr:1015277")!=null&&b("cr:1015277").shouldRender()&&b("React").jsx(b("cr:1015277").actionItem,{isFromViewer:!!a.isFromViewer,onClick:a.closeActionList,message:a.message},"SaveMessageActionItem"),a.hasFormatting&&a.onToggleOriginal&&t(a.hasFormatting)&&b("React").jsx(s,{isShowingOriginal:!!a.isShowingOriginal,onClick:function(){a.onToggleOriginal&&a.onToggleOriginal(),a.closeActionList()}},"ViewSourceActionItem"),b("MessengerEnvironment").messengerui&&h()&&b("React").jsx(g,{message:a.message,onClick:a.closeActionList},"DeepLinkActionItem"),a.includeReactions&&l()&&b("React").jsx(k,{message:a.message,onClick:a.openReactionsPopover},"ReactionActionItem"),!b("MessengerEnvironment").messengerui&&a.onReplyToMessage&&n(a.message)&&b("React").jsx(m,{message:a.message,onClick:a.onReplyToMessage},"ReplyActionItem"),r(a.message)&&b("React").jsx(q,{onClick:a.closeActionList,message:a.message},"SetAsDescriptionActionItem")].filter(Boolean)})}e.exports=a}),null);